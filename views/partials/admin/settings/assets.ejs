<section x-show="tab==='assets'" x-cloak>
  <form
    action="/admin/settings"
    method="post"
    enctype="multipart/form-data"
    class="space-y-6"
  >
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div
        x-data="imageInput('<%= settings?.assets?.logo || '' %>')"
        class="bg-slate-50 p-4 rounded-lg border border-slate-200"
      >
        <label class="label"
          ><span class="label-text text-slate-700">Logo</span></label
        >
        <div class="flex items-center gap-4">
          <div
            class="w-28 h-28 bg-white border border-slate-200 rounded-md flex items-center justify-center overflow-hidden flex-shrink-0"
          >
            <img
              :src="preview"
              alt="logo preview"
              class="object-contain w-full h-full"
            />
          </div>
          <div class="flex-1">
            <input
              @change="onFileChange($event)"
              type="file"
              name="logo"
              accept="image/*"
              class="file-input file-input-bordered w-full bg-white border-slate-300"
            />
            <p class="text-xs text-slate-500 mt-2">
              Recommended: PNG / SVG. Max 2MB.
            </p>
          </div>
        </div>
      </div>

      <div
        x-data="imageInput('<%= settings?.assets?.favicon || '' %>')"
        class="bg-slate-50 p-4 rounded-lg border border-slate-200"
      >
        <label class="label"
          ><span class="label-text text-slate-700">Favicon</span></label
        >
        <div class="flex items-center gap-4">
          <div
            class="w-14 h-14 bg-white border border-slate-200 rounded-md flex items-center justify-center overflow-hidden flex-shrink-0"
          >
            <img
              :src="preview"
              alt="favicon preview"
              class="object-contain w-full h-full"
            />
          </div>
          <div class="flex-1">
            <input
              @change="onFileChange($event)"
              type="file"
              name="favicon"
              accept="image/*"
              class="file-input file-input-bordered w-full bg-white border-slate-300"
            />
            <p class="text-xs text-slate-500 mt-2">ICO/PNG recommended.</p>
          </div>
        </div>
      </div>

      <div
        class="md:col-span-2 bg-slate-50 p-4 rounded-lg border border-slate-200"
      >
        <label class="label">
          <span class="label-text text-slate-700"
            >Homepage Slider (single)</span
          >
        </label>

        <div class="mb-4">
          <% if (settings?.assets?.slider) { %>
          <div
            class="w-full aspect-[16/9] border border-slate-200 rounded-md overflow-hidden bg-white mb-3"
          >
            <img
              src="<%= settings.assets.slider %>"
              class="object-cover w-full h-full"
              alt="slider image"
            />
          </div>
          <% } %>
        </div>

        <input
          type="file"
          name="slider"
          accept="image/*"
          class="file-input file-input-bordered w-full bg-white border-slate-300"
        />
        <p class="text-xs text-slate-500 mt-2">
          Upload a single image (will replace old one). Max 2MB.
        </p>
      </div>

      <div
        x-data="imageInput('<%= settings?.assets?.innerDoorsImage || '' %>')"
        class="bg-slate-50 p-4 rounded-lg border border-slate-200"
      >
        <label class="label"
          ><span class="label-text text-slate-700"
            >Interior Doors Image</span
          ></label
        >
        <div class="flex items-center gap-4">
          <div
            class="w-36 h-24 bg-white border border-slate-200 rounded-md overflow-hidden flex-shrink-0"
          >
            <img
              :src="preview"
              alt="inner preview"
              class="object-cover w-full h-full"
            />
          </div>
          <div class="flex-1">
            <input
              @change="onFileChange($event)"
              type="file"
              name="innerDoorsImage"
              accept="image/*"
              class="file-input file-input-bordered w-full bg-white border-slate-300"
            />
            <p class="text-xs text-slate-500 mt-2">
              Used on category / landing sections.
            </p>
          </div>
        </div>
      </div>

      <div
        x-data="imageInput('<%= settings?.assets?.outerDoorsImage || '' %>')"
        class="bg-slate-50 p-4 rounded-lg border border-slate-200"
      >
        <label class="label"
          ><span class="label-text text-slate-700"
            >Exterior Doors Image</span
          ></label
        >
        <div class="flex items-center gap-4">
          <div
            class="w-36 h-24 bg-white border border-slate-200 rounded-md overflow-hidden flex-shrink-0"
          >
            <img
              :src="preview"
              alt="outer preview"
              class="object-cover w-full h-full"
            />
          </div>
          <div class="flex-1">
            <input
              @change="onFileChange($event)"
              type="file"
              name="outerDoorsImage"
              accept="image/*"
              class="file-input file-input-bordered w-full bg-white border-slate-300"
            />
            <p class="text-xs text-slate-500 mt-2">
              Used on category / landing sections.
            </p>
          </div>
        </div>
      </div>
    </div>

    <div class="flex justify-end gap-3 pt-4 border-t border-slate-200">
      <button type="submit" class="btn btn-primary">Save Assets</button>
    </div>
  </form>
</section>
