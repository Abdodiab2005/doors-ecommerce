# ============================================
# Doors E-Commerce - Environment Configuration
# ============================================
# Copy this file to .env and update the values
# NEVER commit .env to version control!
# ============================================

# ============================================
# Server Configuration
# ============================================

# Port number the server will listen on
# Default: 3000
PORT=3000

# Environment mode
# Options: development, production, test
# In production: enables optimizations, disables verbose logging
NODE_ENV=development

# ============================================
# Database Configuration
# ============================================

# MongoDB connection URI
# Local: mongodb://localhost:27017/doors-ecommerce
# Atlas: mongodb+srv://username:password@cluster.mongodb.net/dbname
# Important: Make sure MongoDB is running before starting the app
MONGODB_URI=mongodb://localhost:27017/doors-ecommerce

# ============================================
# Session Configuration
# ============================================

# Session secret key (REQUIRED!)
# ⚠️ CRITICAL: Use a strong random string in production!
# Generate one: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# This is used to sign session cookies - changing it will invalidate all sessions
SESSION_SECRET=your-super-secret-key-change-this-in-production

# Session cookie name
# Default: doors.sid
# Change if you're running multiple apps on same domain
SESSION_NAME=doors.sid

# Session expiration time in milliseconds
# Default: 86400000 (24 hours)
# 1 hour = 3600000
# 1 day = 86400000
# 7 days = 604800000
SESSION_MAX_AGE=86400000

# ============================================
# Cache Configuration (In-Memory)
# ============================================

# Enable/disable caching
# Options: true, false
# Recommended: true (significantly improves performance)
# Note: Uses node-cache (in-memory), cache clears on server restart
CACHE_ENABLED=true

# Default cache duration in seconds
# Default: 3600 (1 hour)
# Used for general cached data
CACHE_DEFAULT_TTL=3600

# Product cache duration in seconds
# Default: 1800 (30 minutes)
# Shorter duration ensures product data stays relatively fresh
CACHE_PRODUCTS_TTL=1800

# Settings cache duration in seconds
# Default: 86400 (24 hours)
# Settings rarely change, so longer cache is acceptable
CACHE_SETTINGS_TTL=86400

# ============================================
# Internationalization (i18n)
# ============================================

# Default language for the site
# Options: en (English), he (Hebrew)
# Default: he
# This is the fallback language if user hasn't selected one
DEFAULT_LOCALE=he

# ============================================
# Site URL Configuration
# ============================================

# Full site URL (including protocol)
# Used for: SEO canonical URLs, social sharing, sitemaps
# Examples:
#   Development: http://localhost:3000
#   Production: https://yourdomain.com
# Important: No trailing slash!
SITE_URL=http://localhost:3000

# ============================================
# File Upload Configuration
# ============================================

# Maximum file size in bytes
# Default: 2097152 (2MB)
# 1MB = 1048576 bytes
# 2MB = 2097152 bytes
# 5MB = 5242880 bytes
# Applies to product images, logos, favicons, etc.
MAX_FILE_SIZE=2097152

# ============================================
# Admin Configuration
# ============================================

# Default admin username (used for database seeding)
# Change this before running npm run seed
ADMIN_USERNAME=admin

# Default admin password (used for database seeding)
# ⚠️ IMPORTANT: Change this before running npm run seed!
# Use a strong password with letters, numbers, and symbols
ADMIN_PASSWORD=change-this-password

# ============================================
# Logging Configuration
# ============================================

# Log level
# Options: error, warn, info, http, verbose, debug, silly
# Recommended: info (production), debug (development)
LOG_LEVEL=info

# Log format for Morgan middleware
# Options: combined, common, dev, short, tiny
# Recommended: combined (production), dev (development)
LOG_FORMAT=combined

# ============================================
# Rate Limiting Configuration
# ============================================
# These are configured in src/config/settings.js
# You can override them here if needed:

# RATE_LIMIT_WINDOW_MS=900000    # 15 minutes in milliseconds
# RATE_LIMIT_MAX_GENERAL=100     # Max requests per window (general)
# RATE_LIMIT_MAX_LOGIN=5         # Max login attempts per window
# RATE_LIMIT_MAX_API=50          # Max API requests per window

# ============================================
# Notes
# ============================================
#
# 1. Required variables (app won't start without them):
#    - MONGODB_URI
#    - SESSION_SECRET
#
# 2. Recommended for production:
#    - Set NODE_ENV=production
#    - Use strong SESSION_SECRET (32+ random characters)
#    - Change ADMIN_PASSWORD before seeding
#    - Set SITE_URL to your production domain
#    - Enable CACHE_ENABLED=true
#
# 3. Security best practices:
#    - Never commit .env to version control
#    - Rotate SESSION_SECRET periodically
#    - Use environment-specific .env files
#    - Restrict .env file permissions (chmod 600 .env)
#
# 4. For more information:
#    - See README.md for full documentation
#    - See docs/API.md for API reference
#    - See CONTRIBUTING.md for development guide
#
# ============================================
